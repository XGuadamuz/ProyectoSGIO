@model ProyectoSGIOCore.Models.Fase

@{
    ViewData["Title"] = "Agregar Tareas";
    Layout = "~/Views/Proyecto/MenuProyecto.cshtml";
}

<h2>Agregar tareas a la fase: @Model.Nombre</h2>

<!-- Contenedor del formulario -->
<div class="agregar-tarea-container">
    <div class="fase-card">
        <form method="post" action="@Url.Action("AgregarTareas", "Proyecto", new { faseId = Model.Id })">
            <div class="mb-3">
                <label for="tareaNombre">Nombre de la Tarea</label>
                <input type="text" class="form-control" id="tareaNombre" name="tareas[0].Nombre" required />
            </div>

            <div class="mb-3">
                <label for="fechaInicio">Fecha de Inicio</label>
                <input type="date" class="form-control" id="fechaInicio" name="tareas[0].FechaInicio" required />
            </div>

            <div class="mb-3">
                <label for="fechaFin">Fecha de Fin</label>
                <input type="date" class="form-control" id="fechaFin" name="tareas[0].FechaFin" required />
            </div>

            <button type="submit" class="btn btn-success">Agregar Tarea</button>
        </form>
    </div>
</div>

<!-- Listado de tareas -->
<h3>Tareas en esta Fase</h3>
<ul class="tareas-list">
    @foreach (var tarea in Model.Tareas)
    {
        <li class="tarea-item">
            <div class="tarea-info">
                <strong>@tarea.Nombre</strong> - @tarea.FechaInicio.ToShortDateString() - @tarea.FechaFin.ToShortDateString()
            </div>
        </li>
    }
</ul>

<a href="@Url.Action("GestionarProyecto", "Proyecto", new { id = Model.ProyectoId })" class="btn btn-primary mt-3">Volver a Proyecto</a>
